<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="blog.css">
    <title>blog</title>
</head>
<body>
    <div class="container">

        <div class="navbar">
            <div class="sidebar">
                <a href="#" class="">
                    <h4>Home</h4>
                </a>
                <a href="#">
                    <h4>About</h4>
                </a>
                <a href="#">
                    <h4>Sketchy</h4>
                </a>
                <a href="#">
                    <h4>membership</h4>
                </a>
                <a href="login.html">
                    <h4>logout</h4>
                </a>
                <p>Christian <b>Rwigema  </b><small class="text-muted">Admin</small></p>
            </div>
        </div>
        <div class="top">
            <h1>Udraw</h1>
            <h3>Latest posts</h3>
        </div>
        <main>
            <aside>

                <div class="sidebar">
                    <div class="close" id="close-btn">
                            close
                            </span>
                    </div>
                    <a href="#" class="">
                        <h4>Home</h4>
                    </a>
                    <a href="#">
                        <h4>About</h4>
                    </a>
                    <a href="#">
                        <h4>sketchy</h4>
                    </a>
                    <a href="#">
                        <h4>membership</h4>
                    </a>
                    <a href="login.html">
                        <h4>logout</h4>
                    </a>
                </div>
            </aside>
            <div class="posts">
                <div class="blog-1" data-aos="fade-right" data-aos-duration="1000">
                    <div class="img-b"><img src="img-work/pentool 1.png" alt=""  height="120" width="200"></div>
                    <div>
                        <h4>The pentool... it’s not as bad as you think.</h4>
                        <p>The Pen tool is one of the most
                            widely used tools in any vector 
                           drawing app. Let’s dive into the 
                           possibilities of this tool in Amadine
                            for Mac, iPad and iPhone.Throughout
                            the article, you may find instructions 
                           asking you to “click”, meaning the 
                           primary button mouse click
                           . These are used for the Mac version 
                           of the app equipped with a mouse,
                            while, for your trackpad, Apple Pencil, 
                           iPhone and iPad, they simply 
                           transform into “tap”.</p>
                    </div>
                </div>

            </div>
        </main>
                <div class="contactform">
                    <h4>leave a comment</h4>
                    <form id="messages"  >
                        <div class="inputBox">
                            <input type="text"  id="name" name="" required>
                            <span>Full Name</span>
                        </div>
                        <div class="inputBox">
                            <input type="text" id="email" name="" required>
                            <span>Email</span>
                        </div>
                        <div class="inputBox">
                            <textarea id="comment" required></textarea>
                            <span>Your comment...</span>
                        </div>
                        <div class="inputBox">
                            <input type="submit" onclick="userInput()" name="send" value="Send">
                        </div>
                    </form>
                </div>
        <h3>works</h3>
        <div class="work">
            <img src="img-work/painting.png" height="230" width="290" >
            <img src="img-work/Rectangle 99.png" height="230" width="290">
            <img src="img-work/Rectangle 97.png" height="230" width="290">
        </div>
        <div class="footer">
            <span class="material-icons-sharp">copyright</span>
            <p>Christian</p>
            <i class="fa fa-github" aria-hidden="true"></i>
            <i class="fa fa-twitter" aria-hidden="true"></i>
            <i class="fa fa-facebook" aria-hidden="true"></i>
            <i class="fa fa-email" aria-hidden="true"></i>
    </div>
</body>
<script>
    const container = document.getElementById('blogContainer');
const getMessage = () => {
  var myHeaders = new Headers();
  var requestOptions = {
    method: 'GET',
    headers: myHeaders,
    redirect: 'follow'
  };

  fetch("https://app-endpoints.herokuapp.com/posts/", requestOptions)
    .then(response => response.json())
    .then(result => {
      const messages = result || []

      messages.forEach(element => {
    messageContainer.innerHTML += `
    <div  id="blogContainer" class="blog-2" data-aos="fade-right" data-aos-duration="1000">
    <div>
    <h4>${element.title}</h4>
    <p>${element.description}</p>
    </div>
    </div>
    `
      });
    })
    .catch(error => console.log('error', error));

}
getMessage()
</script>

<script>
        function userInput()
        {
            document.getElementById("messages").addEventListener("submit", (e) => {
      e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const comment = document.getElementById('comment').value;
            var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "name": name,
  "email": email,
  "comment": comment
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("https://app-endpoints.herokuapp.com/comments", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
            })
        }
    </script>
</html>